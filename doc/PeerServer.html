<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_27) on Tue Jun 25 11:48:54 CEST 2013 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
PeerServer
</TITLE>

<META NAME="date" CONTENT="2013-06-25">

<LINK REL ="stylesheet" TYPE="text/css" HREF="stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PeerServer";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="PeerClient.html" title="class in &lt;Unnamed&gt;"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="PeerTable.html" title="class in &lt;Unnamed&gt;"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="index.html?PeerServer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PeerServer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
Class PeerServer</H2>
<PRE>
java.lang.Object
  <IMG SRC="./resources/inherit.gif" ALT="extended by ">java.rmi.server.RemoteObject
      <IMG SRC="./resources/inherit.gif" ALT="extended by ">java.rmi.server.RemoteServer
          <IMG SRC="./resources/inherit.gif" ALT="extended by ">java.rmi.server.UnicastRemoteObject
              <IMG SRC="./resources/inherit.gif" ALT="extended by "><B>PeerServer</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.io.Serializable, java.rmi.Remote, <A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="SuperPeerServer.html" title="class in &lt;Unnamed&gt;">SuperPeerServer</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>PeerServer</B><DT>extends java.rmi.server.UnicastRemoteObject<DT>implements <A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></DL>
</PRE>

<P>
La classe PeerServer è una classe remota che contiene la tabella
 delle risorse possedute da un certo Peer. Il compito di questa
 classe è fornire tutte le funzionalità necessarie al relativo
 PeerClient per gestire il funzionamento dell'architettura peer-to-peer
 sviluppata.
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="serialized-form.html#PeerServer">Serialized Form</A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Hashtable&lt;java.lang.String,<A HREF="PeerTable.html" title="class in &lt;Unnamed&gt;">PeerTable</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#resourceTable">resourceTable</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_java.rmi.server.RemoteObject"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class java.rmi.server.RemoteObject</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>ref</CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="PeerServer.html#PeerServer()">PeerServer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Costruttore della classe PeerServer.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#addNewPeer(java.lang.String, java.lang.String)">addNewPeer</A></B>(java.lang.String&nbsp;resName,
           java.lang.String&nbsp;ip)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Metodo per aggiungere un peer alla tabella dei possessori della risorsa.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#addToTable(java.lang.String, PeerTable)">addToTable</A></B>(java.lang.String&nbsp;resName,
           <A HREF="PeerTable.html" title="class in &lt;Unnamed&gt;">PeerTable</A>&nbsp;pt)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Metodo che aggiunge una entry alla resourceTable</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#coordinator(java.lang.String, java.lang.String)">coordinator</A></B>(java.lang.String&nbsp;newCoord,
            java.lang.String&nbsp;res)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Metodo invocato da un altro peer per annunciare il nuovo coordinatore per
 una risorsa.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;float</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#discovery(java.lang.String)">discovery</A></B>(java.lang.String&nbsp;ip)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Metodo che dato l'indirizzo ip del chiamante ritorna la distanza in termini
 di hopcount dalla macchina corrente.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;float</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#election(java.lang.String, java.lang.String)">election</A></B>(java.lang.String&nbsp;res,
         java.lang.String&nbsp;ipCaller)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Metodo invocato da un altro peer una volta avviata la procedura di
 elezione per ricevere i vari id (distanze medie).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;float</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#getAvgDist()">getAvgDist</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Getter di avgDist</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#getResource(java.lang.String, java.lang.String)">getResource</A></B>(java.lang.String&nbsp;resName,
            java.lang.String&nbsp;ip)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Metodo che ritorna un array di byte che contiene la risorsa richiesta.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Hashtable&lt;java.lang.String,<A HREF="PeerTable.html" title="class in &lt;Unnamed&gt;">PeerTable</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#getTable()">getTable</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Getter della resourceTable</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#goodbye(java.lang.String, java.lang.String)">goodbye</A></B>(java.lang.String&nbsp;resName,
        java.lang.String&nbsp;ip)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Goodbye sul peer, rimuove il chiamante dalla propria tabella</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#main(java.lang.String[])">main</A></B>(java.lang.String[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Il main inizializza il PeerServer e lo fa eseguire</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#newPeer(java.lang.String, java.lang.String)">newPeer</A></B>(java.lang.String&nbsp;ip,
        java.lang.String&nbsp;resName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Metodo che aggiunge un nuovo Peer nella PeerTable</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#ping()">ping</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Metodo invocato per accertare la raggiungibilità del @PeerServer</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#removeFromTable(java.lang.String)">removeFromTable</A></B>(java.lang.String&nbsp;resName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Metodo che rimuove completamente la tabella della risorsa data</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#setAvgDist(float)">setAvgDist</A></B>(float&nbsp;avg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setter di avgDist</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="PeerServer.html#syncTable(java.util.Hashtable)">syncTable</A></B>(java.util.Hashtable&lt;java.lang.String,<A HREF="PeerTable.html" title="class in &lt;Unnamed&gt;">PeerTable</A>&gt;&nbsp;rt)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Metodo per sincronizzare la tabella del client con quella del
 rispettivo server.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.rmi.server.UnicastRemoteObject"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.rmi.server.UnicastRemoteObject</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, exportObject, exportObject, exportObject, unexportObject</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.rmi.server.RemoteServer"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.rmi.server.RemoteServer</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>getClientHost, getLog, setLog</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.rmi.server.RemoteObject"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.rmi.server.RemoteObject</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getRef, hashCode, toString, toStub</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>finalize, getClass, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="resourceTable"><!-- --></A><H3>
resourceTable</H3>
<PRE>
protected java.util.Hashtable&lt;java.lang.String,<A HREF="PeerTable.html" title="class in &lt;Unnamed&gt;">PeerTable</A>&gt; <B>resourceTable</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="PeerServer()"><!-- --></A><H3>
PeerServer</H3>
<PRE>
public <B>PeerServer</B>()
           throws java.rmi.RemoteException,
                  java.net.UnknownHostException</PRE>
<DL>
<DD>Costruttore della classe PeerServer.
 
 Inizializza la distanza media a 0 e l'ip all'ip corrente della
 macchina. Crea una hashtable vuota.
<P>
<DL>

<DT><B>Throws:</B>
<DD><CODE>java.rmi.RemoteException</CODE>
<DD><CODE>java.net.UnknownHostException</CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="syncTable(java.util.Hashtable)"><!-- --></A><H3>
syncTable</H3>
<PRE>
public void <B>syncTable</B>(java.util.Hashtable&lt;java.lang.String,<A HREF="PeerTable.html" title="class in &lt;Unnamed&gt;">PeerTable</A>&gt;&nbsp;rt)</PRE>
<DL>
<DD>Metodo per sincronizzare la tabella del client con quella del
 rispettivo server.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="Peer.html#syncTable(java.util.Hashtable)">syncTable</A></CODE> in interface <CODE><A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rt</CODE> - l'oggetto di tipo Hashtable da sostituire con la propria tabella
  
  XXX: problema di sicurezza, non ci sono controlli sul fatto che questo
  metodo possa essere chiamato solo ed esclusivamente dal SUO client.</DL>
</DD>
</DL>
<HR>

<A NAME="removeFromTable(java.lang.String)"><!-- --></A><H3>
removeFromTable</H3>
<PRE>
public void <B>removeFromTable</B>(java.lang.String&nbsp;resName)</PRE>
<DL>
<DD>Metodo che rimuove completamente la tabella della risorsa data
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="Peer.html#removeFromTable(java.lang.String)">removeFromTable</A></CODE> in interface <CODE><A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>resName</CODE> - il nome della risorsa da eliminare</DL>
</DD>
</DL>
<HR>

<A NAME="getAvgDist()"><!-- --></A><H3>
getAvgDist</H3>
<PRE>
public float <B>getAvgDist</B>()</PRE>
<DL>
<DD>Getter di avgDist
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="Peer.html#getAvgDist()">getAvgDist</A></CODE> in interface <CODE><A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>la distanza media</DL>
</DD>
</DL>
<HR>

<A NAME="goodbye(java.lang.String, java.lang.String)"><!-- --></A><H3>
goodbye</H3>
<PRE>
public void <B>goodbye</B>(java.lang.String&nbsp;resName,
                    java.lang.String&nbsp;ip)
             throws java.rmi.RemoteException</PRE>
<DL>
<DD>Goodbye sul peer, rimuove il chiamante dalla propria tabella
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="Peer.html#goodbye(java.lang.String, java.lang.String)">goodbye</A></CODE> in interface <CODE><A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>resName</CODE> - risorsa per cui il chiamante lascia<DD><CODE>ip</CODE> - indirizzo ip del chiamante
<DT><B>Throws:</B>
<DD><CODE>java.rmi.RemoteException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setAvgDist(float)"><!-- --></A><H3>
setAvgDist</H3>
<PRE>
public void <B>setAvgDist</B>(float&nbsp;avg)</PRE>
<DL>
<DD>Setter di avgDist
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="Peer.html#setAvgDist(float)">setAvgDist</A></CODE> in interface <CODE><A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>avg</CODE> - la distanza media</DL>
</DD>
</DL>
<HR>

<A NAME="discovery(java.lang.String)"><!-- --></A><H3>
discovery</H3>
<PRE>
public float <B>discovery</B>(java.lang.String&nbsp;ip)
                throws java.rmi.RemoteException</PRE>
<DL>
<DD>Metodo che dato l'indirizzo ip del chiamante ritorna la distanza in termini
 di hopcount dalla macchina corrente.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="Peer.html#discovery(java.lang.String)">discovery</A></CODE> in interface <CODE><A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ip</CODE> - stringa contenente l'ip del chiamante
<DT><B>Returns:</B><DD>la distanza in termini di hopcount dalla macchina corrente
<DT><B>Throws:</B>
<DD><CODE>java.rmi.RemoteException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getResource(java.lang.String, java.lang.String)"><!-- --></A><H3>
getResource</H3>
<PRE>
public byte[] <B>getResource</B>(java.lang.String&nbsp;resName,
                          java.lang.String&nbsp;ip)
                   throws java.rmi.RemoteException</PRE>
<DL>
<DD>Metodo che ritorna un array di byte che contiene la risorsa richiesta.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="Peer.html#getResource(java.lang.String, java.lang.String)">getResource</A></CODE> in interface <CODE><A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>resName</CODE> - stringa contenente il nome della risorsa richiesta<DD><CODE>ip</CODE> - indirizzo ip del chiamante, usato  per aggiungerlo alla tabella dopo
<DT><B>Returns:</B><DD>un array di byte contenente la risorsa richiesta (resName)
<DT><B>Throws:</B>
<DD><CODE>java.rmi.RemoteException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addNewPeer(java.lang.String, java.lang.String)"><!-- --></A><H3>
addNewPeer</H3>
<PRE>
public void <B>addNewPeer</B>(java.lang.String&nbsp;resName,
                       java.lang.String&nbsp;ip)
                throws java.rmi.RemoteException</PRE>
<DL>
<DD>Metodo per aggiungere un peer alla tabella dei possessori della risorsa.
 Ora il metodo e' generico ed e' invocato anche in fase di prelievo 
 di una risorsa per notificare agli altri peer nella zona il nuovo
 arrivo
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="Peer.html#addNewPeer(java.lang.String, java.lang.String)">addNewPeer</A></CODE> in interface <CODE><A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>resName</CODE> - stringa contenente il nome della risorsa da aggiungere<DD><CODE>ip</CODE> - indirizzo ip del peer da aggiungere
<DT><B>Throws:</B>
<DD><CODE>java.rmi.RemoteException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="election(java.lang.String, java.lang.String)"><!-- --></A><H3>
election</H3>
<PRE>
public float <B>election</B>(java.lang.String&nbsp;res,
                      java.lang.String&nbsp;ipCaller)
               throws java.rmi.RemoteException</PRE>
<DL>
<DD>Metodo invocato da un altro peer una volta avviata la procedura di
 elezione per ricevere i vari id (distanze medie).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="Peer.html#election(java.lang.String, java.lang.String)">election</A></CODE> in interface <CODE><A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>res</CODE> - risorsa per la quale si avvia l'election<DD><CODE>ipCaller</CODE> - indirizzo ip del chiamante
<DT><B>Returns:</B><DD>distanza media
<DT><B>Throws:</B>
<DD><CODE>java.rmi.RemoteException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="coordinator(java.lang.String, java.lang.String)"><!-- --></A><H3>
coordinator</H3>
<PRE>
public void <B>coordinator</B>(java.lang.String&nbsp;newCoord,
                        java.lang.String&nbsp;res)
                 throws java.rmi.RemoteException</PRE>
<DL>
<DD>Metodo invocato da un altro peer per annunciare il nuovo coordinatore per
 una risorsa.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="Peer.html#coordinator(java.lang.String, java.lang.String)">coordinator</A></CODE> in interface <CODE><A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newCoord</CODE> - stringa contenente l'ip del nuovo coordinatore<DD><CODE>res</CODE> - stringa contenente la risorsa per cui e' stato eletto il nuovo coordinatore
<DT><B>Throws:</B>
<DD><CODE>java.rmi.RemoteException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTable()"><!-- --></A><H3>
getTable</H3>
<PRE>
public java.util.Hashtable&lt;java.lang.String,<A HREF="PeerTable.html" title="class in &lt;Unnamed&gt;">PeerTable</A>&gt; <B>getTable</B>()</PRE>
<DL>
<DD>Getter della resourceTable
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="Peer.html#getTable()">getTable</A></CODE> in interface <CODE><A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>la tabella delle risorse</DL>
</DD>
</DL>
<HR>

<A NAME="addToTable(java.lang.String, PeerTable)"><!-- --></A><H3>
addToTable</H3>
<PRE>
public void <B>addToTable</B>(java.lang.String&nbsp;resName,
                       <A HREF="PeerTable.html" title="class in &lt;Unnamed&gt;">PeerTable</A>&nbsp;pt)</PRE>
<DL>
<DD>Metodo che aggiunge una entry alla resourceTable
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="Peer.html#addToTable(java.lang.String, PeerTable)">addToTable</A></CODE> in interface <CODE><A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>resName</CODE> - il nome della risorsa<DD><CODE>pt</CODE> - la peerTable da aggiungere a quella risorsa</DL>
</DD>
</DL>
<HR>

<A NAME="newPeer(java.lang.String, java.lang.String)"><!-- --></A><H3>
newPeer</H3>
<PRE>
public void <B>newPeer</B>(java.lang.String&nbsp;ip,
                    java.lang.String&nbsp;resName)</PRE>
<DL>
<DD>Metodo che aggiunge un nuovo Peer nella PeerTable
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="Peer.html#newPeer(java.lang.String, java.lang.String)">newPeer</A></CODE> in interface <CODE><A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ip</CODE> - indirizzo ip del nuovo Peer<DD><CODE>resName</CODE> - il nome della risorsa posseduto dal nuovo Peer</DL>
</DD>
</DL>
<HR>

<A NAME="ping()"><!-- --></A><H3>
ping</H3>
<PRE>
public boolean <B>ping</B>()</PRE>
<DL>
<DD>Metodo invocato per accertare la raggiungibilità del @PeerServer
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="Peer.html#ping()">ping</A></CODE> in interface <CODE><A HREF="Peer.html" title="interface in &lt;Unnamed&gt;">Peer</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>il valore booleano "true"</DL>
</DD>
</DL>
<HR>

<A NAME="main(java.lang.String[])"><!-- --></A><H3>
main</H3>
<PRE>
public static void <B>main</B>(java.lang.String[]&nbsp;args)</PRE>
<DL>
<DD>Il main inizializza il PeerServer e lo fa eseguire
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>args</CODE> - array passato al lancio del PeerServer. Il primo elemento
 di tale array indica se far partire il PeerServer in modalità di debug
 (args[0] = "debug") o no (senza parametri)</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="PeerClient.html" title="class in &lt;Unnamed&gt;"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="PeerTable.html" title="class in &lt;Unnamed&gt;"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="index.html?PeerServer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PeerServer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
